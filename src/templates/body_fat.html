<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Body Fat</title>
    {% include "styles_and_scripts.html" %}
</head>
<body>
    <header>
        <h1 class="title">Body Fat Calculations</h1>
    </header>
    <nav>
        {% include "navigation_bar.html" %}
    </nav>
    <div class="content">
        <p>Many gyms have a machine that claims to measure your Body Fat Percentage.  And the same machine will measure
            your weight.</p>

        <p>Suppose you wish to reach a body fat percentage of 15%, the approximate percentage at which most men will
            have visible abdominal muscles.  How much weight will you need to lose in order to reach 15% body fat?</p>

        <p>Assume that the weight you lose will be body fat <strong>only</strong> - you will preserve existing muscle
            mass with resistance training and sufficient protein intake.</p>

        <p>Define:</p>
        <dl>
            <dd>\( w : \) current body weight</dd>
            <dd>\( f : \) current mass of body fat</dd>
            <dd>\( b : \) the desired body fat fraction eg. 0.15 for 15% body fat percentage</dd>
            <dd>\( x :\) the amount of body fat mass to lose in order to reach desired body fat percentage</dd>
        </dl>
        <p>Then:
            $$ \frac{f - x}{w - x} = b $$
        </p>
        <p>Solve for \( x \):
        $$ f - x = b \left( w - x \right) $$
            $$ f - x = b w - b x $$
            $$ f - b w = x - b x $$
            $$ \left( 1 - b \right) x = f - b w $$
            $$ x = \frac{f - b w}{\left(1 - b \right)} $$
        </p>
        <p>Define your <em>current</em> body fat fraction as \(a\).  Then \( f = a w \).  Thus:
        $$ x = \frac{a w - b w}{\left(1 - b \right)} $$
        $$ x = w \left( \frac{ a - b }{1 - b } \right) $$</p>

        <h3>Calculate weight loss required</h3>

        <form hx-post="/body-fat-loss" hx-target="#weight_loss_result">
            <p><label>Current Body Weight: <input type="text" name="w" style="font-size: 15pt;" value="81"></label></p>
            <p><label>Current Body Fat Percentage: <input type="number" name="a_pct" style="font-size: 15pt;" value="20">%</label></p>
            <p><label>Desired Body Fat Percentage: <input type="number" name="b_pct" style="font-size: 15pt;" value="15">%</label></p>
            <button class="button-19" role="button">Calculate</button>
        </form>
        <div id="weight_loss_result">
            <p style="font-size: 20pt;
                       font-family: -apple-system, BlinkMacSystemFont,
                       Roboto, Helvetica, Arial, sans-serif;">
                Weight loss required:  <span style="color: #1899D6;">Click 'Calculate'</span></p>
        </div>
    </div>
    <div class="deadspace"></div>
    <footer>Written with HTMX served by FastAPI.</footer>
</body>
</html>